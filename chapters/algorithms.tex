\chapter{Algorithms}

\section{Policy Change}
This section gives a high level view of our policy change method.
The individual parts of the policy change will be explained in the following sections of this chapter.
We have a running instance of MonPoly monitoring some policy.
The user asks the wrapper to monitor a new policy.
The wrapper checks the monitorability of the new policy against the existing policy.
If it is not monitorable the wrapper keeps the current instance of MonPoly running and reports the issue with the new policy to the user.
Otherwise the wrapper uses MonPoly to get the extended relative intervals of the new policy.
Then these extended relative intervals get converted to SQL queries and the wrapper runs these queries on QuestDB.
The response from QuestDB gets converted into a MonPoly log file.
Next the wrapper stops the current iteration of MonPoly and starts a new one that first reads the created log file.
At this point the policy change is done, and the wrapper can continue with its normal operation.

% \textit{TODO write some pseudo code here}


\input{chapters/algorithms/ri.tex}
\input{chapters/algorithms/eri.tex}


\section{Conversion to SQL-Query}



